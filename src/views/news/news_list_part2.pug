section.bg-light
    div.container.height-md-20
        div.row
            div.col-md-3.col-lg-4
                img.d-none.d-md-block(src=data.image)
            div.col-md-9.col-lg-8
                for newsitem, index in data.newslist_content
                    div
                        p
                            a.h4(href=`${data.newslist[index]}.html`)= newsitem.title
                        p
                            div.d-flex.justify-content-start.align-items-center
                                i.material-icons.text-secondary art_track
                                span.text-secondary.custom-indent-half= newsitem.datetime
                        p.text-secondary= newsitem.preface
                    hr
                -
                    // Calculate the max page for pagination bar.
                    var id = 1
                    var max_page = parseInt((data.newslist.length - 1) / data.newsperpage) + 1
                    // 3 is the available max number of the news list page.
                    if (max_page > 3) {
                        max_page = 3
                    }
                if max_page > 1
                    div.row.justify-content-center.mt-3
                        div.col-md-auto
                            nav(aria-label="Page navigation bar")
                                ul.pagination
                                    if (data.current_page > 1) && (max_page > 1)
                                        li.page-item
                                            a.page-link(href=`news_list_${data.current_page - 1}.html`) 上一页
                                    while id <= max_page
                                        if (id = data.current_page)
                                            li.page-item.active
                                                a.page-link(href=`news_list_${id}.html`)= id
                                        else
                                            li.page-item
                                                a.page-link(href=`news_list_${id}.html`)= id
                                        - id++
                                    if (data.current_page < max_page) && (max_page > 1)
                                        li.page-item
                                            a.page-link(href=`news_list_${data.current_page + 1}.html`) 下一页
